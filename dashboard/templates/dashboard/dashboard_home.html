{% extends 'dashboard/base_dashboard.html' %}

{% block page_title %}الصفحة الرئيسية{% endblock %}

{% block breadcrumb_items %}
<li>الصفحة الرئيسية</li>
{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="hero bg-gradient-to-r from-primary to-secondary text-primary-content rounded-box mb-6">
    <div class="hero-content text-center">
        <div class="max-w-md">
            <h1 class="text-5xl font-bold">مرحباً بك، {{ user.full_name }}!</h1>
            <p class="py-6 text-lg">
                أهلاً وسهلاً بك في لوحة تحكم منصة تأثير رقمي. 
                ابدأ رحلتك في عالم التسويق المؤثر.
            </p>
        </div>
    </div>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    <!-- Total Campaigns -->
    <div class="stat bg-base-100 shadow rounded-box">
        <div class="stat-figure text-primary">
            <i class="fas fa-bullhorn text-4xl"></i>
        </div>
        <div class="stat-title">إجمالي الحملات</div>
        <div class="stat-value text-primary">9823</div>
        <div class="stat-desc">حملة في المنصة</div>
    </div>

    <!-- Total Influencers -->
    <div class="stat bg-base-100 shadow rounded-box">
        <div class="stat-figure text-secondary">
            <i class="fas fa-users text-4xl"></i>
        </div>
        <div class="stat-title">إجمالي المؤثرين</div>
        <div class="stat-value text-secondary">1286</div>
        <div class="stat-desc">مؤثر في المنصة</div>
    </div>

    <!-- My Campaigns -->
    <div class="stat bg-base-100 shadow rounded-box">
        <div class="stat-figure text-accent">
            <i class="fas fa-chart-line text-4xl"></i>
        </div>
        <div class="stat-title">حملاتي</div>
        <div class="stat-value text-accent">{{ user_campaigns_count }}</div>
        <div class="stat-desc">حملة نشطة</div>
    </div>

    <!-- Package Days -->

</div>

<!-- Active Campaigns Section -->
<div class="card bg-base-100 shadow-xl mb-8">
    <div class="card-body">
        <div class="flex items-center justify-between mb-4">
            <h2 class="card-title text-2xl">
                <i class="fas fa-fire text-primary"></i>
                الحملات النشطة حالياً
            </h2>
            <a href="{% url 'campaigns:campaigns_list' %}" class="btn btn-primary btn-sm">
                عرض الكل
                <i class="fas fa-arrow-left mr-2"></i>
            </a>
        </div>
        
        {% if active_campaigns %}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for campaign in active_campaigns %}
                <div class="card bg-base-200 shadow-md hover:shadow-lg transition-shadow">
                    <div class="card-body">
                        <div class="flex items-start justify-between mb-3">
                            <h3 class="card-title text-lg">{{ campaign.title }}</h3>
                            <div class="badge badge-success">نشطة</div>
                        </div>
                        
                        <p class="text-base-content/70 text-sm mb-4 line-clamp-2">
                            {{ campaign.description|truncatewords:15 }}
                        </p>
                        
                        <div class="space-y-2 mb-4">
                            <div class="flex items-center text-sm">
                                <i class="fas fa-building text-primary ml-2"></i>
                                <span>{{ campaign.brand }}</span>
                            </div>
                            
                            <div class="flex items-center text-sm">
                                <i class="fas fa-users text-secondary ml-2"></i>
                                <span>{{ campaign.participants_count }} مؤثر مشارك</span>
                            </div>
                            
                            <div class="flex items-center text-sm">
                                <i class="fas fa-clock text-warning ml-2"></i>
                                <span>{{ campaign.days_remaining }} يوم متبقي</span>
                            </div>
                        </div>
                        
                        <div class="card-actions justify-between items-center">
                            <div class="text-lg font-bold text-primary">
                                {{ campaign.budget }} ريال
                            </div>
                            <a href="{% url 'campaigns:campaign_detail' campaign.id %}" 
                               class="btn btn-primary btn-sm">
                                عرض التفاصيل
                                <i class="fas fa-arrow-left mr-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-12">
                <i class="fas fa-bullhorn text-6xl text-base-content/30 mb-4"></i>
                <h3 class="text-xl font-semibold mb-2">لا توجد حملات نشطة</h3>
                <p class="text-base-content/70 mb-6">ابدأ بإنشاء حملتك الأولى للتواصل مع المؤثرين</p>
                <a href="{% url 'campaigns:create_campaign' %}" class="btn btn-primary">
                    <i class="fas fa-plus mr-2"></i>
                    إنشاء حملة جديدة
                </a>
            </div>
        {% endif %}
    </div>
</div>

<!-- Quick Actions -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Search Influencers -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body items-center text-center">
            <div class="avatar placeholder mb-4">
                <div class="bg-primary text-primary-content rounded-full w-16">
                    <i class="fas fa-search text-2xl"></i>
                </div>
            </div>
            <h2 class="card-title">البحث عن المؤثرين</h2>
            <p class="text-base-content/70">ابحث عن المؤثرين المناسبين لحملتك باستخدام الفلاتر المتقدمة</p>
            <div class="card-actions">
                <a href="{% url 'influencers:influencers_search' %}" class="btn btn-primary">
                    ابدأ البحث
                    <i class="fas fa-arrow-left mr-2"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Create Campaign -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body items-center text-center">
            <div class="avatar placeholder mb-4">
                <div class="bg-secondary text-secondary-content rounded-full w-16">
                    <i class="fas fa-plus text-2xl"></i>
                </div>
            </div>
            <h2 class="card-title">إنشاء حملة جديدة</h2>
            <p class="text-base-content/70">أنشئ حملة تسويقية جديدة وابدأ رحلتك في التسويق المؤثر</p>
            <div class="card-actions">
                <a href="{% url 'campaigns:create_campaign' %}" class="btn btn-secondary">
                    إنشاء حملة
                    <i class="fas fa-arrow-left mr-2"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- View Reports -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body items-center text-center">
            <div class="avatar placeholder mb-4">
                <div class="bg-accent text-accent-content rounded-full w-16">
                    <i class="fas fa-chart-bar text-2xl"></i>
                </div>
            </div>
            <h2 class="card-title">التقارير والإحصائيات</h2>
            <p class="text-base-content/70">اطلع على تقارير أداء حملاتك وتحليلات مفصلة</p>
            <div class="card-actions">
                <a href="#" disabled class="btn btn-accent">
                    عرض التقارير (قريبا)
                    <i class="fas fa-arrow-left mr-2"></i>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
